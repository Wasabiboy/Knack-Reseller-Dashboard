<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Knack Reseller Dashboard • Options</title>
  <style>
    :root { --bg: #0b0c10; --fg: #e6edf3; --muted: #9aa4ad; --accent: #6bc2ff; }
    * { box-sizing: border-box; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    body { margin: 0; background: var(--bg); color: var(--fg); }
    .wrap { max-width: 820px; margin: 0 auto; padding: 20px; }
    h1 { margin-top: 0; }
    label { display: block; margin: 10px 0; }
    input, textarea { width: 100%; background: #11141a; color: var(--fg); border: 1px solid #1d232a; border-radius: 10px; padding: 10px; }
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .buttons { display: flex; gap: 10px; margin-top: 14px; }
    button { border: 0; border-radius: 10px; padding: 10px 12px; background: var(--accent); color: #00121f; font-weight: 700; cursor: pointer; }
    button.secondary { background: #2a3240; color: var(--fg); }
    .note { color: var(--muted); font-size: 12px; }
    code { background: #11141a; padding: 2px 6px; border-radius: 6px; }
    textarea { min-height: 160px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Knack Reseller Dashboard</h1>
    <div class="row">
      <label>Currency Symbol <input id="currencySymbol" placeholder="$" value="$"></label>
      <label>Currency Code <input id="currency" placeholder="NZD" value="NZD"></label>
    </div>
    <div class="row">
      <label><input id="includeGST" type="checkbox"> Include GST</label>
      <label>GST Rate <input id="gstRate" type="number" step="0.01" value="0.15"></label>
    </div>
    <div class="row">
      <label>Round to (decimals) <input id="roundTo" type="number" step="1" value="2"></label>
      <label><input id="zeroIsFree" type="checkbox" checked> Zero records is free</label>
    </div>
    <h3>Knack Plan Details</h3>
    <div class="row">
      <label>Monthly Cost (USD) <input id="monthlyRateUSD" type="number" step="0.01" value="2280"></label>
      <label>Exchange Rate (USD to NZD or other) <input id="exchangeRate" type="number" step="0.01" value="1.65"></label>
    </div>
    <div class="row">
      <label>Max Records Allowed <input id="maxRecords" type="number" step="1" value="2500000"></label>
      <label>Max Storage (GB) <input id="maxStorageGB" type="number" step="0.1" value="920"></label>
    </div>
    
    <h3>Tiered Records Pricing</h3>
    <div class="row">
      <label>Base Limit (records) <input id="baseLimit" type="number" step="1" value="50000"></label>
      <label>Base Price <input id="basePrice" type="number" step="0.01" value="250"></label>
    </div>
    <div class="row">
      <label>Step Size (records) <input id="stepSize" type="number" step="1" value="25000"></label>
      <label>Step Price <input id="stepPrice" type="number" step="0.01" value="100"></label>
    </div>
    <label>Customer Overrides (JSON array)
      <textarea id="customerOverrides" placeholder='[{"match":"Just Hardwood Floors","tier":{"basePrice":300}}, {"match":"/^Toyota/i","tier":{"stepPrice":80}}]'></textarea>
    </label>
    <div class="buttons">
      <button id="save">Save</button>
      <button id="reset" class="secondary">Reset to defaults</button>
    </div>
    <p class="note">
      Cost = <code>records ≤ baseLimit ? basePrice : basePrice + ceil((records - baseLimit) / stepSize) × stepPrice</code> 
      (or <code>$0</code> when zeroIsFree is ticked and records = 0). GST is applied if enabled.
    </p>
  </div>
  <script src="options.js"></script>
</body>
</html>
